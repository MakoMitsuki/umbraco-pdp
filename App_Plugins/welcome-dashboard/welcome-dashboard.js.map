{"version":3,"file":"welcome-dashboard.js","sources":["../../welcome-dashboard/src/welcome-dashboard.element.ts"],"sourcesContent":["import { css, html, customElement, state, repeat } from \"@umbraco-cms/backoffice/external/lit\";\nimport { type UmbCurrentUserModel, UMB_CURRENT_USER_CONTEXT, UmbCurrentUserContext } from \"@umbraco-cms/backoffice/current-user\";\nimport { UmbLitElement } from \"@umbraco-cms/backoffice/lit-element\";\nimport { type UmbUserDetailModel, UmbUserCollectionRepository } from '@umbraco-cms/backoffice/user';\n\n@customElement('my-welcome-dashboard')\nexport class MyWelcomeDashboardElement extends UmbLitElement {\n\n  @state()\n    private _currentUser?: UmbCurrentUserModel;\n\n   @state()\n    private _userData: Array<UmbUserDetailModel> = [];\n    \n    #userRepository = new UmbUserCollectionRepository(this);\n\n    constructor() {\n        super();\n        this.consumeContext(UMB_CURRENT_USER_CONTEXT, (instance: UmbCurrentUserContext) => {\n            this._observeCurrentUser(instance);\n        });\n        this._getPagedUserData();\n    }\n\n    private async _getPagedUserData() {\n      const { data } = await this.#userRepository.requestCollection();\n      this._userData = data?.items ?? [];\n    }\n\n    private async _observeCurrentUser(instance: typeof UMB_CURRENT_USER_CONTEXT.TYPE) {\n        this.observe(instance.currentUser, (currentUser: UmbCurrentUserModel | undefined) => {\n            this._currentUser = currentUser;\n        });\n    }\n\n    private _renderUser(user: UmbUserDetailModel) {\n      if (!user) return;\n      return html`<uui-table-row class=\"user\">\n          <uui-table-cell>${user.name}</uui-table-cell>\n          <uui-table-cell>${user.email}</uui-table-cell>\n          <uui-table-cell>${user.state}</uui-table-cell>\n      </uui-table-row>`;\n    }\n\n    render() {\n      return html`\n      <uui-box>\n        <span slot=\"headline\">\n                <umb-localize key=\"welcomeDashboard_heading\">Welcome</umb-localize>\n                ${this._currentUser?.name ?? 'Unknown'}!\n            </span>\n        <div>\n          <p>\n           <umb-localize key=\"welcomeDashboard_bodytext\">\n             This is the Backoffice. From here, you can modify the content,\n             media, and settings of your website.\n           </umb-localize>\n          </p>\n          <p>\n            <umb-localize key=\"welcomeDashboard_copyright\">\n              Â© Ama Usa An 2025\n            </umb-localize>\n          </p>\n        </div>\n        <uui-table id=\"users-wrapper\">\n  \t\t\t\t<uui-table-row>\n  \t\t\t\t\t<uui-table-head-cell>Name</uui-table-head-cell>\n  \t\t\t\t\t<uui-table-head-cell>Email</uui-table-head-cell>\n  \t\t\t\t\t<uui-table-head-cell>Status</uui-table-head-cell>\n  \t\t\t\t</uui-table-row>\n  \t\t\t\t${repeat(this._userData, (user) => user.unique, (user) => this._renderUser(user))}\n  \t\t\t</uui-table>\n    </uui-box>\n      `;\n    }\n\n  static styles = [\n    css`\n      :host {\n  \t\t\tdisplay: block;\n  \t\t\tpadding: var(--uui-size-layout-1);\n  \t\t}\n\n        #users-wrapper {\n          border: 1px solid lightgray;\n        }\n        .user {\n          padding: 5px 10px;\n        }\n        .user:not(:first-child) {\n          border-top: 1px solid lightgray;\n        }\n\n        uui-table-head-cell {\n\t\t\tfont-weight: bold;\n\t\t}\n\n\t\t.user:hover,\n\t\t.user:focus {\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: var(--uui-color-surface-alt);\n\t\t}\n    `,\n  ];\n}\n\nexport default MyWelcomeDashboardElement;\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'my-welcome-dashboard': MyWelcomeDashboardElement;\n  }\n}"],"names":["_userRepository","MyWelcomeDashboardElement","UmbLitElement","__privateAdd","UmbUserCollectionRepository","UMB_CURRENT_USER_CONTEXT","instance","data","__privateGet","currentUser","user","html","_a","repeat","css","__decorateClass","state","customElement","MyWelcomeDashboardElement$1"],"mappings":";;;;;;;;;;uQAAAA;AAMa,IAAAC,IAAN,cAAwCC,EAAc;AAAA,EAUzD,cAAc;AACJ,UAAA,GALV,KAAQ,YAAuC,CAAC,GAE9BC,EAAA,MAAAH,GAAA,IAAII,EAA4B,IAAI,CAAA,GAI7C,KAAA,eAAeC,GAA0B,CAACC,MAAoC;AAC/E,WAAK,oBAAoBA,CAAQ;AAAA,IAAA,CACpC,GACD,KAAK,kBAAkB;AAAA,EAAA;AAAA,EAG3B,MAAc,oBAAoB;AAChC,UAAM,EAAE,MAAAC,EAAK,IAAI,MAAMC,EAAA,MAAKR,GAAgB,kBAAkB;AACzD,SAAA,aAAYO,KAAA,gBAAAA,EAAM,UAAS,CAAC;AAAA,EAAA;AAAA,EAGnC,MAAc,oBAAoBD,GAAgD;AAC9E,SAAK,QAAQA,EAAS,aAAa,CAACG,MAAiD;AACjF,WAAK,eAAeA;AAAA,IAAA,CACvB;AAAA,EAAA;AAAA,EAGG,YAAYC,GAA0B;AAC5C,QAAKA;AACE,aAAAC;AAAA,4BACeD,EAAK,IAAI;AAAA,4BACTA,EAAK,KAAK;AAAA,4BACVA,EAAK,KAAK;AAAA;AAAA,EAAA;AAAA,EAIlC,SAAS;;AACA,WAAAC;AAAA;AAAA;AAAA;AAAA,oBAIKC,IAAA,KAAK,iBAAL,gBAAAA,EAAmB,SAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAqB9CC,EAAO,KAAK,WAAW,CAACH,MAASA,EAAK,QAAQ,CAACA,MAAS,KAAK,YAAYA,CAAI,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA,EAAA;AAkCvF;AA1FIV,IAAA,oBAAA,QAAA;AARSC,EAsEJ,SAAS;AAAA,EACda;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BF;AA9FUC,EAAA;AAAA,EADTC,EAAM;AAAA,GAFIf,EAGD,WAAA,gBAAA,CAAA;AAGAc,EAAA;AAAA,EADRC,EAAM;AAAA,GALGf,EAMD,WAAA,aAAA,CAAA;AANCA,IAANc,EAAA;AAAA,EADNE,EAAc,sBAAsB;AAAA,GACxBhB,CAAA;AAoGb,MAAAiB,IAAejB;"}